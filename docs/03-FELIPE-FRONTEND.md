# üíª Felipe Gonzaga - Frontend Developer

## üìã Informa√ß√µes Profissionais

- **Cargo:** Frontend Developer
- **Sal√°rio:** R$ 11.000/m√™s
- **Regime:** Home Office
- **Hor√°rio:** Seg-Sex ‚Ä¢ 09h-18h

## üéØ Responsabilidades no Projeto

Como Frontend Developer, voc√™ √© respons√°vel por:

1. **Interfaces de Usu√°rio**
   - Componentes React reutiliz√°veis
   - P√°ginas responsivas
   - Experi√™ncia do usu√°rio (UX)

2. **Integra√ß√£o com API**
   - Consumir endpoints REST
   - Gerenciamento de estado
   - Tratamento de erros

3. **Performance Frontend**
   - Otimiza√ß√£o de renderiza√ß√£o
   - Code splitting
   - Lazy loading

## üìÇ Seus Arquivos Principais

### P√°ginas da Aplica√ß√£o

```
frontend/src/pages/
‚îú‚îÄ‚îÄ üìÅ dashboard/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Dashboard.jsx          ‚úÖ SEU C√ìDIGO - Tela inicial
‚îú‚îÄ‚îÄ üìÅ customers/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Customers.jsx          ‚úÖ SEU C√ìDIGO - Gest√£o de clientes
‚îú‚îÄ‚îÄ üìÅ suppliers/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Suppliers.jsx          ‚úÖ SEU C√ìDIGO - Gest√£o de fornecedores
‚îú‚îÄ‚îÄ üìÅ products/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Products.jsx           ‚úÖ SEU C√ìDIGO - Gest√£o de produtos
‚îú‚îÄ‚îÄ üìÅ sales/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Sales.jsx              ‚úÖ SEU C√ìDIGO - PDV e vendas
‚îú‚îÄ‚îÄ üìÅ financial/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Financial.jsx          ‚úÖ SEU C√ìDIGO - Financeiro
‚îú‚îÄ‚îÄ üìÅ reports/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Reports.jsx            ‚úÖ SEU C√ìDIGO - Relat√≥rios
‚îú‚îÄ‚îÄ üìÅ employees/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Employees.jsx          ‚úÖ SEU C√ìDIGO - Funcion√°rios
‚îú‚îÄ‚îÄ üìÅ nfe/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ NFe.jsx                ‚úÖ SEU C√ìDIGO - Notas fiscais
‚îú‚îÄ‚îÄ üìÅ settings/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Settings.jsx           ‚úÖ SEU C√ìDIGO - Configura√ß√µes
‚îî‚îÄ‚îÄ üìÅ users/
    ‚îî‚îÄ‚îÄ üìÑ Users.jsx              ‚úÖ SEU C√ìDIGO - Usu√°rios do sistema
```

### Componentes Reutiliz√°veis

```
frontend/src/components/
‚îú‚îÄ‚îÄ üìÅ layout/
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Layout.jsx             ‚úÖ SEU C√ìDIGO - Layout geral
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Sidebar.jsx            ‚úÖ SEU C√ìDIGO - Menu lateral
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Header.jsx             ‚úÖ SEU C√ìDIGO - Cabe√ßalho
‚îú‚îÄ‚îÄ üìÅ common/
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Button.jsx             ‚úÖ SEU C√ìDIGO - Bot√µes
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Modal.jsx              ‚úÖ SEU C√ìDIGO - Modais
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ Table.jsx              ‚úÖ SEU C√ìDIGO - Tabelas
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ Card.jsx               ‚úÖ SEU C√ìDIGO - Cards
‚îî‚îÄ‚îÄ üìÅ forms/
    ‚îú‚îÄ‚îÄ üìÑ Input.jsx              ‚úÖ SEU C√ìDIGO - Inputs
    ‚îî‚îÄ‚îÄ üìÑ Select.jsx             ‚úÖ SEU C√ìDIGO - Selects
```

### Servi√ßos e Utilit√°rios

```
frontend/src/
‚îú‚îÄ‚îÄ üìÅ services/
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ api.js                 ‚úÖ SEU C√ìDIGO - Cliente HTTP
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ auth.js                ‚úÖ SEU C√ìDIGO - Autentica√ß√£o
‚îú‚îÄ‚îÄ üìÅ contexts/
‚îÇ   ‚îî‚îÄ‚îÄ üìÑ AuthContext.jsx        ‚úÖ SEU C√ìDIGO - Contexto de auth
‚îî‚îÄ‚îÄ üìÅ utils/
    ‚îú‚îÄ‚îÄ üìÑ formatters.js          ‚úÖ SEU C√ìDIGO - Formata√ß√£o
    ‚îî‚îÄ‚îÄ üìÑ validators.js          ‚úÖ SEU C√ìDIGO - Valida√ß√µes
```

## üîß Engenharia Reversa - React Components

### 1. Estrutura de uma P√°gina Completa

**Arquivo:** `frontend/src/pages/customers/Customers.jsx`

```jsx
import React, { useState, useEffect } from 'react';
import { FaPlus, FaEdit, FaTrash } from 'react-icons/fa';
import api from '../../services/api';
import toast from 'react-hot-toast';

export default function Customers() {
  // 1. ESTADO DO COMPONENTE
  const [customers, setCustomers] = useState([]);        // Lista de clientes
  const [loading, setLoading] = useState(true);          // Estado de carregamento
  const [showModal, setShowModal] = useState(false);     // Modal aberto/fechado
  const [editingCustomer, setEditingCustomer] = useState(null);  // Cliente sendo editado
  const [formData, setFormData] = useState({             // Dados do formul√°rio
    type: 'INDIVIDUAL',
    cpfCnpj: '',
    name: '',
    email: '',
    phone: '',
    // ... outros campos
  });

  // 2. EFEITO - Carrega dados quando componente monta
  useEffect(() => {
    loadCustomers();
  }, []); // Array vazio = executa s√≥ uma vez

  // 3. FUN√á√ÉO - Buscar clientes da API
  const loadCustomers = async () => {
    try {
      setLoading(true);
      const response = await api.get('/customers');
      setCustomers(response.data.customers || []);
      setLoading(false);
    } catch (error) {
      console.error('Erro:', error);
      toast.error('Erro ao carregar clientes');
      setCustomers([]);
      setLoading(false);
    }
  };

  // 4. FUN√á√ÉO - Abrir modal (criar ou editar)
  const handleOpenModal = (customer = null) => {
    if (customer) {
      // Modo edi√ß√£o - preenche formul√°rio
      setEditingCustomer(customer);
      setFormData({
        type: customer.type,
        cpfCnpj: customer.cpfCnpj,
        name: customer.name,
        // ... outros campos
      });
    } else {
      // Modo cria√ß√£o - formul√°rio limpo
      setEditingCustomer(null);
      setFormData({
        type: 'INDIVIDUAL',
        cpfCnpj: '',
        name: '',
        // ... campos vazios
      });
    }
    setShowModal(true);
  };

  // 5. FUN√á√ÉO - Salvar (criar ou atualizar)
  const handleSubmit = async (e) => {
    e.preventDefault(); // Previne reload da p√°gina

    try {
      const payload = {
        ...formData,
        // Monta objeto de endere√ßo
        address: formData.cep ? {
          cep: formData.cep,
          street: formData.street,
          number: formData.number,
          city: formData.city,
          state: formData.state
        } : null
      };

      if (editingCustomer) {
        // ATUALIZAR - PUT
        await api.put(`/customers/${editingCustomer.id}`, payload);
        toast.success('Cliente atualizado com sucesso!');
      } else {
        // CRIAR - POST
        await api.post('/customers', payload);
        toast.success('Cliente criado com sucesso!');
      }

      setShowModal(false);      // Fecha modal
      setEditingCustomer(null);  // Limpa edi√ß√£o
      loadCustomers();           // Recarrega lista
    } catch (error) {
      toast.error(error.response?.data?.error || 'Erro ao salvar');
    }
  };

  // 6. FUN√á√ÉO - Excluir cliente
  const handleDelete = async (id) => {
    if (!window.confirm('Tem certeza que deseja excluir?')) {
      return;
    }

    try {
      await api.delete(`/customers/${id}`);
      toast.success('Cliente exclu√≠do com sucesso!');
      loadCustomers();
    } catch (error) {
      toast.error(error.response?.data?.error || 'Erro ao excluir');
    }
  };

  // 7. RENDER - Interface visual
  return (
    <div>
      {/* Cabe√ßalho com bot√£o Novo */}
      <div style={{ display: 'flex', justifyContent: 'space-between' }}>
        <h1>Clientes</h1>
        <button onClick={() => handleOpenModal()}>
          <FaPlus /> Novo Cliente
        </button>
      </div>

      {/* Tabela de clientes */}
      {loading ? (
        <div>Carregando...</div>
      ) : (
        <table>
          <thead>
            <tr>
              <th>Nome</th>
              <th>CPF/CNPJ</th>
              <th>Email</th>
              <th>A√ß√µes</th>
            </tr>
          </thead>
          <tbody>
            {customers.map(customer => (
              <tr key={customer.id}>
                <td>{customer.name}</td>
                <td>{customer.cpfCnpj}</td>
                <td>{customer.email}</td>
                <td>
                  <button onClick={() => handleOpenModal(customer)}>
                    <FaEdit />
                  </button>
                  <button onClick={() => handleDelete(customer.id)}>
                    <FaTrash />
                  </button>
                </td>
              </tr>
            ))}
          </tbody>
        </table>
      )}

      {/* Modal de formul√°rio */}
      {showModal && (
        <div className="modal">
          <form onSubmit={handleSubmit}>
            <h2>{editingCustomer ? 'Editar' : 'Novo'} Cliente</h2>

            <input
              type="text"
              placeholder="Nome"
              value={formData.name}
              onChange={(e) => setFormData({
                ...formData,
                name: e.target.value
              })}
              required
            />

            {/* ... outros campos ... */}

            <button type="submit">Salvar</button>
            <button type="button" onClick={() => setShowModal(false)}>
              Cancelar
            </button>
          </form>
        </div>
      )}
    </div>
  );
}
```

### 2. Hooks do React

#### useState - Gerenciar Estado

```jsx
const [valor, setValor] = useState(valorInicial);

// Exemplo:
const [count, setCount] = useState(0);
const [name, setName] = useState('');
const [user, setUser] = useState(null);
const [items, setItems] = useState([]);

// Atualizar estado:
setCount(count + 1);                    // Novo valor
setCount(prevCount => prevCount + 1);   // Baseado no anterior
setItems([...items, newItem]);          // Adicionar ao array
setUser({ ...user, name: 'Jo√£o' });     // Atualizar objeto
```

#### useEffect - Efeitos Colaterais

```jsx
useEffect(() => {
  // C√≥digo a executar
}, [depend√™ncias]);

// Exemplo 1: Executar s√≥ uma vez (ao montar)
useEffect(() => {
  loadData();
}, []);

// Exemplo 2: Executar quando 'search' mudar
useEffect(() => {
  filterResults(search);
}, [search]);

// Exemplo 3: Cleanup (limpar timer, etc)
useEffect(() => {
  const timer = setInterval(() => console.log('tick'), 1000);

  return () => clearInterval(timer); // Cleanup
}, []);
```

### 3. Integra√ß√£o com API

**Arquivo:** `frontend/src/services/api.js`

```javascript
import axios from 'axios';

// Cria inst√¢ncia do Axios com configura√ß√£o base
const api = axios.create({
  baseURL: 'http://localhost:3001/api',
  headers: {
    'Content-Type': 'application/json'
  }
});

// Interceptor: Adiciona token em todas requisi√ß√µes
api.interceptors.request.use(config => {
  const token = localStorage.getItem('token');
  if (token) {
    config.headers.Authorization = `Bearer ${token}`;
  }
  return config;
});

// Interceptor: Trata erros globalmente
api.interceptors.response.use(
  response => response,
  error => {
    if (error.response?.status === 401) {
      // Token inv√°lido - redireciona para login
      localStorage.removeItem('token');
      window.location.href = '/login';
    }
    return Promise.reject(error);
  }
);

export default api;
```

**Como usar:**

```jsx
import api from '../../services/api';

// GET - Buscar dados
const response = await api.get('/customers');
const customers = response.data.customers;

// GET com par√¢metros
const response = await api.get('/customers', {
  params: { page: 1, limit: 20, search: 'Jo√£o' }
});
// Gera: /customers?page=1&limit=20&search=Jo√£o

// POST - Criar
await api.post('/customers', {
  name: 'Jo√£o Silva',
  cpfCnpj: '12345678900'
});

// PUT - Atualizar
await api.put(`/customers/${id}`, {
  name: 'Jo√£o Silva Atualizado'
});

// DELETE - Excluir
await api.delete(`/customers/${id}`);
```

### 4. Context API (Autentica√ß√£o)

**Arquivo:** `frontend/src/contexts/AuthContext.jsx`

```jsx
import React, { createContext, useContext, useState, useEffect } from 'react';
import api from '../services/api';

const AuthContext = createContext();

export function AuthProvider({ children }) {
  const [user, setUser] = useState(null);
  const [loading, setLoading] = useState(true);

  // Verifica se est√° autenticado ao carregar
  useEffect(() => {
    const token = localStorage.getItem('token');
    if (token) {
      loadUser();
    } else {
      setLoading(false);
    }
  }, []);

  const loadUser = async () => {
    try {
      const response = await api.get('/auth/me');
      setUser(response.data.user);
    } catch (error) {
      localStorage.removeItem('token');
    } finally {
      setLoading(false);
    }
  };

  const login = async (email, password) => {
    const response = await api.post('/auth/login', { email, password });
    const { token, user } = response.data;

    localStorage.setItem('token', token);
    setUser(user);
  };

  const logout = () => {
    localStorage.removeItem('token');
    setUser(null);
    window.location.href = '/login';
  };

  return (
    <AuthContext.Provider value={{
      user,
      loading,
      isAuthenticated: !!user,
      login,
      logout
    }}>
      {children}
    </AuthContext.Provider>
  );
}

// Hook customizado
export function useAuth() {
  return useContext(AuthContext);
}
```

**Como usar:**

```jsx
import { useAuth } from '../../contexts/AuthContext';

function MeuComponente() {
  const { user, isAuthenticated, logout } = useAuth();

  return (
    <div>
      <p>Ol√°, {user?.name}</p>
      <button onClick={logout}>Sair</button>
    </div>
  );
}
```

### 5. React Hot Toast (Notifica√ß√µes)

```jsx
import toast from 'react-hot-toast';

// Sucesso
toast.success('Cliente criado com sucesso!');

// Erro
toast.error('Erro ao salvar cliente');

// Aviso
toast('Aten√ß√£o: Campo obrigat√≥rio', {
  icon: '‚ö†Ô∏è',
});

// Loading
const toastId = toast.loading('Salvando...');
// Depois...
toast.success('Salvo!', { id: toastId });
```

## üìö Conceitos Importantes

### 1. Props vs State

```jsx
// PROPS - Passadas pelo componente pai (READ-ONLY)
function Button({ label, onClick }) {
  return <button onClick={onClick}>{label}</button>;
}

<Button label="Salvar" onClick={handleSave} />

// STATE - Estado interno do componente (PODE MUDAR)
function Counter() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>{count}</p>
      <button onClick={() => setCount(count + 1)}>+</button>
    </div>
  );
}
```

### 2. Renderiza√ß√£o Condicional

```jsx
// If simples
{isLoading && <div>Carregando...</div>}

// If/Else (tern√°rio)
{isLoading ? (
  <div>Carregando...</div>
) : (
  <div>Conte√∫do</div>
)}

// Multiple conditions
{error ? (
  <div>Erro!</div>
) : isLoading ? (
  <div>Carregando...</div>
) : (
  <div>Conte√∫do</div>
)}
```

### 3. Listas e Keys

```jsx
// Sempre use 'key' √∫nico em listas
{customers.map(customer => (
  <div key={customer.id}>
    {customer.name}
  </div>
))}

// ‚ùå NUNCA use index como key
{customers.map((customer, index) => (
  <div key={index}>  {/* ERRADO! */}
    {customer.name}
  </div>
))}
```

### 4. Formul√°rios Controlados

```jsx
function Form() {
  const [formData, setFormData] = useState({
    name: '',
    email: ''
  });

  const handleChange = (e) => {
    setFormData({
      ...formData,
      [e.target.name]: e.target.value
    });
  };

  return (
    <form>
      <input
        name="name"
        value={formData.name}
        onChange={handleChange}
      />
      <input
        name="email"
        value={formData.email}
        onChange={handleChange}
      />
    </form>
  );
}
```

## üéØ Checklist de Tarefas

### Ao criar uma nova p√°gina

- [ ] Criar arquivo na pasta pages
- [ ] Importar hooks necess√°rios (useState, useEffect)
- [ ] Definir estados do componente
- [ ] Criar fun√ß√µes de API (load, create, update, delete)
- [ ] Implementar useEffect para carregar dados
- [ ] Criar interface (JSX)
- [ ] Adicionar valida√ß√µes de formul√°rio
- [ ] Implementar feedback (toast)
- [ ] Testar em diferentes resolu√ß√µes
- [ ] Adicionar loading states

### Boas Pr√°ticas

1. **Componentes pequenos e reutiliz√°veis**
2. **Nomes descritivos para estados e fun√ß√µes**
3. **Extrair l√≥gica complexa para custom hooks**
4. **Usar destructuring**
   ```jsx
   // ‚úÖ BOM
   const { name, email } = user;

   // ‚ùå RUIM
   const name = user.name;
   const email = user.email;
   ```
5. **Evitar inline styles em produ√ß√£o (use CSS)**

---

**Pr√≥ximos Passos:**
1. Estudar cada p√°gina em detalhes
2. Entender fluxo de dados
3. Praticar criando componentes
4. Ler docs do React
